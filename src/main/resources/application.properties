# ====================================
# RENDER-OPTIMIZED CONFIGURATION
# ====================================

# Server Port (Render setzt automatisch)
server.port=${PORT:8080}

# ====================================
# FILE UPLOAD - RENDER FREE: 512MB RAM
# ====================================
spring.servlet.multipart.enabled=true

# KRITISCH: Sofort auf Disk schreiben (nicht RAM)
spring.servlet.multipart.file-size-threshold=1MB
spring.servlet.multipart.location=/tmp

# Max File Sizes (konservativ für Render Free)
spring.servlet.multipart.max-file-size=30MB
spring.servlet.multipart.max-request-size=100MB

# ====================================
# PERFORMANCE TUNING
# ====================================

# Tomcat Thread Pool (reduziert für Render)
server.tomcat.threads.max=20
server.tomcat.threads.min-spare=2

# Connection Timeout (verhindert hängende Requests)
server.tomcat.connection-timeout=60s

# Max HTTP Header Size
server.max-http-request-header-size=8KB

# ====================================
# LOGGING (weniger I/O auf Render)
# ====================================
logging.level.root=WARN
logging.level.com.pdfmerger=INFO
logging.level.org.springframework.web=WARN

# Console logging only (Render captured stdout)
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# ====================================
# ACTUATOR (Health Check für Render)
# ====================================
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=never
management.health.defaults.enabled=false

# ====================================
# APPLICATION
# ====================================
spring.application.name=PDF Merger Web

# Render deployment info
app.environment=production
app.platform=render